---
import type { Props as BaseLayoutProps } from "./BaseLayout.astro";
import BaseLayout from "./BaseLayout.astro";
import Navbar, { type Props as NavbarProps } from "../components/Navbar.astro";
import type { MarkdownHeading } from "astro";

export interface Props extends BaseLayoutProps {
  headings: MarkdownHeading[];
  date: Date;
}

const { title, headings, date, ...props } = Astro.props;
---

<BaseLayout {...props} title={title}>
  <Navbar headings={headings} active="none" />
  <main
    class="blog-post mt-16 mx-auto pb-32 text-lg prose dark:prose-invert max-w-2xl"
  >
    <h1
      class=`text-center text-3xl mb-0 ${title.endsWith("?") ? "no-dot" : ""}`
    >
      {title}
    </h1>
    <div class="w-full text-center mb-16 text-gray-500">
      Published {
        date.toLocaleDateString("en-US", {
          year: "numeric",
          month: "short",
          day: "2-digit",
        })
      }
    </div>
    <slot />
  </main>
</BaseLayout>

<style is:global>
  .blog-post > .expressive-code,
  .blog-post > img {
    margin: 2rem -4rem;
    max-width: calc(100% + 8rem);
  }

  .blog-post > img {
    @apply shadow-md;
  }
</style>
